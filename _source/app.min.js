/*
AntiRip.js
Created by Farham Aghdasi
2024
*/
function clearAlerts(){if(diasble_alerts){var alerts=document.querySelectorAll(".alert");for(var i=0;i<alerts.length;i++){alerts[i].innerHTML="";alerts[i].disabled=true}window.alert=function(){}}}clearAlerts();function disableConsoleLog(){if(disable_consoles_log){console.log=function(){}}}disableConsoleLog();function onKeyDown(){if(event.ctrlKey&&event.keyCode===83){if(Save_page){event.preventDefault()}}}document.addEventListener("keydown",onKeyDown);document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.key==="p"){if(block_print){e.preventDefault()}}});document.addEventListener("DOMContentLoaded",function(){if(window.navigator.userAgent.includes("IDM")){if(idmblocker){alert(idmblocker_message)}}});function idmBlocker(){if(idmblocker){document.querySelector("head").innerHTML+=`<meta http-equiv="Content-Security-Policy" content="default-src 'self';">`}}idmBlocker();document.addEventListener("contextmenu",function(e){if(block_rightclick){e.preventDefault()}});function blockInspect(){if(block_inspect){document.addEventListener("keydown",function(e){if(e.key==="F12"||e.ctrlKey&&e.key==="I"){e.preventDefault()}})}}blockInspect();function blockU(){if(block_view_source){document.addEventListener("keydown",function(event){if(event.ctrlKey&&event.keyCode===85){event.preventDefault()}})}}blockU();function blockCopy(){document.addEventListener("keydown",e=>{if(block_Copy&&(e.ctrlKey&&e.keyCode===67)){e.preventDefault()}})}blockCopy();const allowedDomains=Allowed_Domains;const currentDomain=window.location.hostname;if(add_license_project){if(!allowedDomains.includes(currentDomain)){alert(domain_failed);window.location.replace(redirection_url);document.body.innerHTML=""}}function getPassword(){if(password_page_action){var password=prompt(password_page_prompt);return password}}function checkPassword(password){if(password_page_action){var correctPassword=password_page;if(password===correctPassword){}else{window.location.replace(redirection_url);document.body.innerHTML=""}}}var password=getPassword();checkPassword(password);document.querySelectorAll("*").forEach(function(element){if(block_drag){element.addEventListener("dragstart",preventDrag)}});function preventCopy(event){if(block_drag){event.preventDefault()}}function preventDownload(event){if(block_drag){event.preventDefault()}}function preventDrag(event){if(block_drag){event.preventDefault()}}document.querySelectorAll(".proc-content").forEach(function(iframe){if(block_iframe_copy){var overlay=document.querySelector("#overlay");overlay.style.position="absolute";overlay.style.top="0";overlay.style.left="0";overlay.style.width="100%";overlay.style.height="100%";overlay.style.zIndex="1";overlay.style.cursor="not-allowed"}});document.querySelectorAll("audio").forEach(function(audio){audio.addEventListener("contextmenu",function(event){if(block_rightclick_audio){event.preventDefault()}})});if(block_refresh){function preventRefresh(){document.addEventListener("keydown",function(event){if(event.keyCode===116||event.ctrlKey&&event.keyCode===82||event.ctrlKey&&event.shiftKey&&event.keyCode===82||event.altKey&&event.keyCode===82){event.preventDefault()}})}preventRefresh()}if(block_cut_body){function disableCopyCut(){document.body.setAttribute("oncut","return true")}disableCopyCut();if(block_paste_body){function disableCopyPaste(){document.body.setAttribute("onpaste","return true")}disableCopyPaste();if(block_copy_body){function disableCopy(){document.body.setAttribute("oncopy","return true")}disableCopy()}}}const input=document.querySelector("*");function blockDrag(){if(block_paste){input.addEventListener("keydown",function(e){if(e.keyCode===86&&e.ctrlKey){e.preventDefault()}})}}blockDrag();if(block_fullscreen){function disableFullScreen(){window.addEventListener("keydown",function(event){if(event.keyCode===122){event.preventDefault();window.addEventListener("DOMContentLoaded",disableFullScreen)}})}disableFullScreen()}if(canvas){function imgToCanvas(img){var canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;var context=canvas.getContext("2d");context.drawImage(img,0,0);context.fillStyle=canvas_fillstyle;context.font="10px vazirmatn";context.color=canvas_color;context.textAlign="left";context.fillText(canvas_text,10,10);return canvas}function convertImgsToCanvas(){var imgs=document.querySelectorAll("img");for(var i=0;i<imgs.length;i++){var canvas=imgToCanvas(imgs[i]);imgs[i].parentNode.replaceChild(canvas,imgs[i]);var classString=imgs[i].className;canvas.className=classString}}function addLazyLoadToImgs(){if(canvas_lazy_load){var imgs=document.querySelectorAll("canvas");for(var i=0;i<imgs.length;i++){imgs[i].setAttribute("load","lazy")}}}convertImgsToCanvas();addLazyLoadToImgs()}if(notification_domain&&!allowedDomains.includes(currentDomain)){Notification.requestPermission().then(function(permission){console.log(permission)});let permission=Notification.permission;if(permission==="granted"){showNotification()}else if(permission==="default"){requestAndShowPermission()}else{alert("درخواست اعلان را به صورت عادی فعال کنید")}function requestAndShowPermission(){Notification.requestPermission(function(permission){if(permission==="granted"){showNotification()}})}function showNotification(){let title=body_notification;let icon=image_src_notification;let body=body_notification;let notification=new Notification(title,{body:body,icon:icon});notification.onclick=()=>{notification.close();window.parent.focus()}}showNotification()}